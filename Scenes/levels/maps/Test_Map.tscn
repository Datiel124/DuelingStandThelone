[gd_scene load_steps=12 format=3 uid="uid://bs6imwb1m2uoe"]

[ext_resource type="Material" uid="uid://b3bj1opi6jyvo" path="res://MaterialAssets/Developer_Textures/Green/Green_Tex_1.tres" id="1"]
[ext_resource type="PackedScene" path="res://Scenes/World.tscn" id="2"]
[ext_resource type="Material" uid="uid://s3muysapypgt" path="res://MaterialAssets/Developer_Textures/Dark/Dark_Tex_1.tres" id="3"]
[ext_resource type="Material" uid="uid://dhji1ooux3mq" path="res://MaterialAssets/Developer_Textures/Orange/Orange_Tex_1.tres" id="4"]

[sub_resource type="GDScript" id="3"]
script/source = "extends Area3D

func _on_huirts_timeout() -> void:
	for i in get_overlapping_bodies():
		if i is Player:
			if i.FSM.states[i.FSM.state] != i.FSM.states.DEAD:
				i.Damage(9)
#				var canca = Timer.new()
#				add_child(canca)
#				var rate = randf()
#				canca.start(rate)
#				canca.connect('timeout',Callable(i,'Damage').bind(randf()))
#				await get_tree().create_timer(rate * randf_range(10, 100)).'timeout'
#				canca.queue_free()
	pass # Replace with function body.
"

[sub_resource type="SphereShape3D" id="1"]
radius = 14.0

[sub_resource type="StandardMaterial3D" id="4"]
transparency = 1
cull_mode = 2
no_depth_test = true
shading_mode = 0
albedo_color = Color(1, 0, 0, 0.466667)
proximity_fade_enable = true
proximity_fade_distance = 2.0

[sub_resource type="SphereMesh" id="2"]
material = SubResource("4")
radius = 14.0
height = 28.0

[sub_resource type="GDScript" id="5"]
script/source = "extends Area3D

func _on_huirts_timeout() -> void:
	for i in get_overlapping_bodies():
		if i is Player:
			if i.FSM.states[i.FSM.state] != i.FSM.states.DEAD:
				i.Damage(5)
				var canca = Timer.new()
				add_child(canca)
				canca.start(0.666666)
				canca.connect('timeout',Callable(i,'Damage').bind(randf_range(0, 1)))
				await get_tree().create_timer(0.666667 * 5.0).timeout
				canca.queue_free()
	pass # Replace with function body.
"

[sub_resource type="SphereShape3D" id="6"]
radius = 4.0

[sub_resource type="SphereMesh" id="7"]
material = SubResource("4")
radius = 4.0
height = 9.0

[node name="World3D" instance=ExtResource("2")]

[node name="spawn0" parent="Level/spawnpoints" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.4, 0)

[node name="spawn2" type="Marker3D" parent="Level/spawnpoints" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 4, 4)

[node name="spawn3" type="Marker3D" parent="Level/spawnpoints" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26, 3, -1)

[node name="spawn4" type="Marker3D" parent="Level/spawnpoints" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -35, 3, 35)

[node name="wallz" type="CSGCombiner3D" parent="Level/geometry" index="0"]
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Level/geometry/wallz" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 23.3, 0)
material = ExtResource("3")

[node name="CSGBox3D" type="CSGBox3D" parent="Level/geometry/wallz/CSGBox3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.5, 0)
operation = 2
material = ExtResource("3")

[node name="stage" type="CSGCombiner3D" parent="Level/geometry" index="1"]
use_collision = true

[node name="CSGBox18" type="CSGBox3D" parent="Level/geometry/stage" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 14, -47)
material = ExtResource("1")

[node name="CSGBox25" type="CSGBox3D" parent="Level/geometry/stage" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 14, -55)
material = ExtResource("1")

[node name="CSGBox22" type="CSGBox3D" parent="Level/geometry/stage" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 29, -47)
material = ExtResource("3")

[node name="CSGBox19" type="CSGBox3D" parent="Level/geometry/stage" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 14, -35)
material = ExtResource("3")

[node name="CSGBox23" type="CSGBox3D" parent="Level/geometry/stage" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 21, -49)
material = ExtResource("3")

[node name="CSGBox24" type="CSGBox3D" parent="Level/geometry/stage" index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 22, -59)
material = ExtResource("3")

[node name="CSGBox20" type="CSGBox3D" parent="Level/geometry/stage" index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18, 14, -35)
material = ExtResource("3")

[node name="CSGBox21" type="CSGBox3D" parent="Level/geometry/stage" index="7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18, 14, -59)
material = ExtResource("3")

[node name="CSGBox6" type="CSGBox3D" parent="Level/geometry/stage" index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, -12)
material = ExtResource("1")

[node name="CSGBox14" type="CSGBox3D" parent="Level/geometry/stage" index="9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 5, -12)
material = ExtResource("1")

[node name="CSGBox7" type="CSGBox3D" parent="Level/geometry/stage" index="10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24, 3, -3)
material = ExtResource("4")

[node name="CSGBox15" type="CSGBox3D" parent="Level/geometry/stage" index="11"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19, 1.10119, 11)
material = ExtResource("4")

[node name="CSGBox17" type="CSGBox3D" parent="Level/geometry/stage" index="12"]
transform = Transform3D(1, 0, 0, 0, 0.965926, -0.258819, 0, 0.258819, 0.965926, 19, 8, -38)
material = ExtResource("4")

[node name="CSGBox13" type="CSGBox3D" parent="Level/geometry/stage" index="13"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24, 11, -3)
material = ExtResource("4")

[node name="CSGBox9" type="CSGBox3D" parent="Level/geometry/stage" index="14"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 7, -9)
material = ExtResource("4")

[node name="CSGBox10" type="CSGBox3D" parent="Level/geometry/stage" index="15"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 7, 3)
material = ExtResource("4")

[node name="CSGBox11" type="CSGBox3D" parent="Level/geometry/stage" index="16"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -33, 7, 3)
material = ExtResource("4")

[node name="CSGBox12" type="CSGBox3D" parent="Level/geometry/stage" index="17"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -33, 7, -9)
material = ExtResource("4")

[node name="CSGBox8" type="CSGBox3D" parent="Level/geometry/stage" index="18"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24, 3, 17)
material = ExtResource("4")

[node name="cool" type="CSGCombiner3D" parent="Level/geometry" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.30611, 0, -14.5488)
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Level/geometry/cool" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 6, -35)
material = ExtResource("1")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="Level/geometry/cool/CSGBox3D" index="0"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 4, 5)
operation = 2
radius = 8.0
height = 12.0
sides = 64
material = ExtResource("3")

[node name="Area3D" type="Area3D" parent="Level/objects" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 36.5, 0, 31.1)
script = SubResource("3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/objects/Area3D" index="0"]
shape = SubResource("1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/objects/Area3D" index="1"]
mesh = SubResource("2")

[node name="huirts" type="Timer" parent="Level/objects/Area3D" index="2"]
wait_time = 0.2
autostart = true

[node name="Area2" type="Area3D" parent="Level/objects" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.9, 2.9, 52.2)
script = SubResource("5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/objects/Area2" index="0"]
shape = SubResource("6")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/objects/Area2" index="1"]
mesh = SubResource("7")

[node name="huirts" type="Timer" parent="Level/objects/Area2" index="2"]
wait_time = 0.2
autostart = true

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Level/lights" index="0"]
transform = Transform3D(0.619589, -0.460546, -0.635616, 0.0790126, -0.76907, 0.634262, -0.78094, -0.443204, -0.440118, 0, 18.945, -20.0077)
shadow_enabled = true

[connection signal="timeout" from="Level/objects/Area3D/huirts" to="Level/objects/Area3D" method="_on_huirts_timeout"]
[connection signal="timeout" from="Level/objects/Area2/huirts" to="Level/objects/Area2" method="_on_huirts_timeout"]
